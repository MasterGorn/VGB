<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Test Simple ZIP</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
    <h1>Test Simple de ZIP avec Dossiers</h1>
    <button id="testBtn">Tester ZIP</button>
    <div id="result"></div>

    <script>
        document.getElementById('testBtn').addEventListener('click', async function() {
            try {
                console.log('üß™ Test simple de ZIP...');
                
                const zip = new JSZip();
                
                // M√©thode 1: Cr√©er des dossiers
                zip.folder('nintendo');
                zip.folder('playstation');
                
                // M√©thode 2: Ajouter des fichiers avec chemins
                zip.file('nintendo/mario.png', 'fake-mario-data');
                zip.file('nintendo/link.png', 'fake-link-data');
                zip.file('playstation/kratos.png', 'fake-kratos-data');
                
                // M√©thode 3: Ajouter des fichiers README
                zip.file('nintendo/README.txt', 'Dossier Nintendo');
                zip.file('playstation/README.txt', 'Dossier PlayStation');
                
                console.log('üìÅ Fichiers dans l\'archive:');
                Object.keys(zip.files).forEach(filePath => {
                    console.log(`  - ${filePath}`);
                });
                
                // G√©n√©rer et t√©l√©charger
                const content = await zip.generateAsync({type: "blob"});
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(content);
                link.download = 'test-simple.zip';
                link.click();
                
                document.getElementById('result').innerHTML = `
                    <h2>‚úÖ Test r√©ussi !</h2>
                    <p>Archive cr√©√©e avec ${Object.keys(zip.files).length} fichiers</p>
                    <p>V√©rifiez l'archive t√©l√©charg√©e pour voir les dossiers.</p>
                `;
                
            } catch (error) {
                console.error('Erreur:', error);
                document.getElementById('result').innerHTML = `<h2>‚ùå Erreur: ${error.message}</h2>`;
            }
        });
    </script>
</body>
</html>
